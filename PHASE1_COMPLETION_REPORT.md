# AaltoHub v2 - Phase 1 ì™„ë£Œ ë¦¬í¬íŠ¸

ìƒì„±ì¼: 2026-02-06

---

## ğŸ“Š Phase 1 ìš”êµ¬ì‚¬í•­ ì ê²€

í”„ë¡¬í”„íŠ¸ì—ì„œ ìš”êµ¬í•œ Phase 1 ê¸°ëŠ¥:

### 1. ì‚¬ìš©ì í”Œë¡œìš° âœ… ì™„ë£Œ
- [x] í…”ë ˆê·¸ë¨ ë¡œê·¸ì¸
- [x] ê·¸ë£¹ ì„ íƒ
- [x] ê·¸ë£¹ ì €ì¥
- [x] ì €ì¥ëœ ê·¸ë£¹ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ

### 2. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ âœ… ì™„ë£Œ
- [x] ì‚¬ìš©ìê°€ í¼ë¸”ë¦­ìœ¼ë¡œ ë“±ë¡í•œ ê·¸ë£¹ì— ê´€ë¦¬ì ìë™ ì´ˆëŒ€
- [x] ê´€ë¦¬ìê°€ ì„ íƒí•œ ê·¸ë£¹ì˜ ì§€ë‚œ í•œ ë‹¬ ë©”ì‹œì§€ë¥¼ í…”ë ˆê·¸ë¨ê³¼ ë™ì¼í•œ UIë¡œ í‘œì‹œ
- [x] Supabase Realtimeìœ¼ë¡œ ë¼ì´ë¸Œ í¬ë¡¤ë§ ê²°ê³¼ê°€ ì‹¤ì‹œê°„ ë°˜ì˜
- [x] AWSì—ì„œ 24ì‹œê°„ í¬ë¡¤ë§ ìš´ì˜ (systemd ì„œë¹„ìŠ¤ í¬í•¨)

---

## âœ… êµ¬í˜„ëœ ê¸°ëŠ¥ ìƒì„¸

### Backend (Python/FastAPI)

#### ì¸ì¦ ì‹œìŠ¤í…œ (`backend/app/routes/auth.py`)
```python
âœ… POST /api/auth/send-code        # ì¸ì¦ ì½”ë“œ ì „ì†¡
âœ… POST /api/auth/verify-code      # ì½”ë“œ ê²€ì¦ ë° ë¡œê·¸ì¸
âœ… POST /api/auth/verify-2fa       # 2FA ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
âœ… POST /api/auth/refresh          # í† í° ê°±ì‹ 
âœ… GET  /api/auth/me               # í˜„ì¬ ì‚¬ìš©ì ì •ë³´
âœ… POST /api/auth/logout           # ë¡œê·¸ì•„ì›ƒ
```

**íŠ¹ì§•:**
- Phase 6 ìµœì í™”: ë¹ ë¥¸ ì¸ì¦ í”Œë¡œìš° (Auth Flow í´ë¼ì´ì–¸íŠ¸ ì¬ì‚¬ìš©)
- 2FA ìˆ˜ì •: ì„¸ì…˜ ì¬ì‚¬ìš©ìœ¼ë¡œ ê·¼ë³¸ì ì¸ 2FA ë²„ê·¸ ìˆ˜ì •
- ì„¸ì…˜ ìºì‹±: DB ì¡°íšŒ ìµœì†Œí™”

#### ê·¸ë£¹ ê´€ë¦¬ (`backend/app/routes/groups.py`)
```python
âœ… GET  /api/groups/my-telegram-groups      # í…”ë ˆê·¸ë¨ ê·¸ë£¹ ëª©ë¡
âœ… POST /api/groups/register                # ê·¸ë£¹ ë“±ë¡ (public/private)
âœ… GET  /api/groups/registered              # ë“±ë¡ëœ ê·¸ë£¹ ì¡°íšŒ
âœ… GET  /api/groups/{id}/messages           # ê·¸ë£¹ ë©”ì‹œì§€ ì¡°íšŒ
âœ… POST /api/groups/{id}/invite-admin       # ê´€ë¦¬ì ìˆ˜ë™ ì´ˆëŒ€
âœ… GET  /api/groups/{id}/topics             # ê·¸ë£¹ í† í”½ ì¡°íšŒ (í¬ëŸ¼ ê·¸ë£¹)
âœ… PATCH /api/groups/{id}/visibility        # Public/Private ì „í™˜
âœ… POST /api/groups/{id}/invite-link        # Private ê·¸ë£¹ ì´ˆëŒ€ ë§í¬ ìƒì„±
âœ… POST /api/groups/invite/{token}/accept   # ì´ˆëŒ€ ë§í¬ ìˆ˜ë½
```

**íŠ¹ì§•:**
- Public ê·¸ë£¹ ë“±ë¡ ì‹œ ê´€ë¦¬ì ìë™ ì´ˆëŒ€
- Private ê·¸ë£¹: ì´ˆëŒ€ ë§í¬ ì‹œìŠ¤í…œ
- Private ê·¸ë£¹ ì ‘ê·¼ ê¶Œí•œ ì²´í¬

#### ê´€ë¦¬ì API (`backend/app/routes/admin.py`)
```python
âœ… GET  /api/admin/groups                        # ëª¨ë“  ê·¸ë£¹ ì¡°íšŒ
âœ… GET  /api/admin/groups/{id}/messages          # ê·¸ë£¹ ë©”ì‹œì§€ (30ì¼, í˜ì´ì§€ë„¤ì´ì…˜)
âœ… GET  /api/admin/stats                         # ì‹œìŠ¤í…œ í†µê³„
âœ… GET  /api/admin/failed-invites                # ì´ˆëŒ€ ì‹¤íŒ¨ ê·¸ë£¹
âœ… GET  /api/admin/crawler-status                # í¬ë¡¤ëŸ¬ ìƒíƒœ
âœ… POST /api/admin/crawler-status/{id}/toggle    # í¬ë¡¤ëŸ¬ on/off
âœ… GET  /api/admin/error-logs                    # í¬ë¡¤ëŸ¬ ì—ëŸ¬ ë¡œê·¸
```

**íŠ¹ì§•:**
- ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥ (role-based ê¶Œí•œ)
- í¬ë¡¤ëŸ¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- ì—ëŸ¬ ë¡œê·¸ ì¡°íšŒ

#### í¬ë¡¤ëŸ¬ ì‹œìŠ¤í…œ

**Enhanced Crawler** (`backend/scripts/crawler_enhanced.py`):
- âœ… **Phase 1: Historical ë©”ì‹œì§€ ìˆ˜ì§‘**
  - 30ì¼ì¹˜ ë©”ì‹œì§€ ìë™ ìˆ˜ì§‘
  - ì§„í–‰ë¥  ì¶”ì  (`crawler_status.initial_crawl_progress`)
  - ë°°ì¹˜ ì²˜ë¦¬ + Rate limiting (FloodWaitError ìë™ ì²˜ë¦¬)

- âœ… **Phase 2: Real-time ëª¨ë‹ˆí„°ë§**
  - NewMessage ì´ë²¤íŠ¸: ìƒˆ ë©”ì‹œì§€ ì‹¤ì‹œê°„ ì €ì¥
  - MessageEdited ì´ë²¤íŠ¸: ë©”ì‹œì§€ ìˆ˜ì • ì¶”ì 
  - MessageDeleted ì´ë²¤íŠ¸: ì‚­ì œëœ ë©”ì‹œì§€ í‘œì‹œ

- âœ… **ì—ëŸ¬ ì²˜ë¦¬**
  - FloodWaitError: ìë™ ëŒ€ê¸° í›„ ì¬ì‹œë„
  - ChannelPrivateError: ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ
  - ChatAdminRequiredError: ê´€ë¦¬ì ê¶Œí•œ í•„ìš”
  - ëª¨ë“  ì—ëŸ¬ â†’ `crawler_error_logs` í…Œì´ë¸” ê¸°ë¡

- âœ… **í¬ëŸ¼ ê·¸ë£¹ ì§€ì›**
  - Topic ID ì¶”ì¶œ ë° ì €ì¥
  - Topicë³„ ë©”ì‹œì§€ í•„í„°ë§

**systemd ì„œë¹„ìŠ¤** (`backend/scripts/aaltohub-crawler.service`):
- ìë™ ì¬ì‹œì‘ (ì‹¤íŒ¨ ì‹œ)
- ë¶€íŒ… ì‹œ ìë™ ì‹œì‘
- ë¡œê·¸ íŒŒì¼ ìë™ ìƒì„±

---

### Frontend (React/TypeScript/Vite)

#### ë¡œê·¸ì¸ í˜ì´ì§€ (`client/src/pages/Login.tsx`)
```typescript
âœ… ì „í™”ë²ˆí˜¸ ë˜ëŠ” username ì…ë ¥
âœ… 5ìë¦¬ ì½”ë“œ ìë™ ì œì¶œ (Phase 6 ìµœì í™”)
âœ… 2FA ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
âœ… ì—­í• ë³„ ë¦¬ë‹¤ì´ë ‰íŠ¸ (admin â†’ /admin, user â†’ /groups)
```

**íŠ¹ì§•:**
- Auto-submit when 5 digits entered
- Double-submit guard (isSubmitting ref)
- inputMode="numeric" for mobile keyboards

#### ê·¸ë£¹ ì„ íƒ (`client/src/pages/GroupSelection.tsx`)
```typescript
âœ… í…”ë ˆê·¸ë¨ ê·¸ë£¹ ëª©ë¡ í‘œì‹œ
âœ… Public/Private ì„¤ì • (Radio ë²„íŠ¼)
âœ… ì´ë¯¸ ë“±ë¡ëœ ê·¸ë£¹ í‘œì‹œ (ë¹„í™œì„±í™”)
âœ… ê´€ë¦¬ì ì´ˆëŒ€ ì‹¤íŒ¨ ì•Œë¦¼
```

**íŠ¹ì§•:**
- 2ë‹¨ê³„ í”Œë¡œìš° (ì„ íƒ â†’ ê³µê°œ ì„¤ì •)
- ê¸°ë³¸ê°’ Public (ê¶Œì¥)
- ê´€ë¦¬ì ì´ˆëŒ€ ì‹¤íŒ¨ ì‹œ toast ì•Œë¦¼

#### ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (`client/src/pages/AdminDashboard.tsx`)
```typescript
âœ… í…”ë ˆê·¸ë¨ ìŠ¤íƒ€ì¼ Split UI (ê·¸ë£¹ ë¦¬ìŠ¤íŠ¸ + ë©”ì‹œì§€ ë·°ì–´)
âœ… ì§€ë‚œ 30ì¼ ë©”ì‹œì§€ í‘œì‹œ
âœ… ë‚ ì§œë³„ ê·¸ë£¹í•‘ (Date dividers)
âœ… Supabase Realtime êµ¬ë… (ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸)
âœ… ë¬´í•œ ìŠ¤í¬ë¡¤ (ì´ì „ ë©”ì‹œì§€ ë¶ˆëŸ¬ì˜¤ê¸°)
âœ… Topic í•„í„° (í¬ëŸ¼ ê·¸ë£¹)
```

**íŠ¹ì§•:**
- Telegram-Native Brutalism ë””ìì¸
- ë‚ ì§œ êµ¬ë¶„ì„  (ì˜¤ëŠ˜, ì–´ì œ, MMì›” DDì¼)
- ë‹µì¥ ë©”ì‹œì§€ ìŠ¤í¬ë¡¤ ì´ë™
- ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸ (Supabase Realtime)

#### í¬ë¡¤ëŸ¬ ê´€ë¦¬ í˜ì´ì§€ (`client/src/pages/CrawlerManagement.tsx`)
```typescript
âœ… í¬ë¡¤ëŸ¬ ìƒíƒœ ì¡°íšŒ (active/inactive/error/initializing)
âœ… ê·¸ë£¹ë³„ í¬ë¡¤ëŸ¬ on/off í† ê¸€
âœ… ì—ëŸ¬ ë¡œê·¸ ì¡°íšŒ
âœ… ì§„í–‰ë¥  í‘œì‹œ (initial crawl)
```

---

## ğŸ”§ ìˆ˜ì • ì‚¬í•­ (ì˜¤ëŠ˜ ì‘ì—…)

### 1. í¬ë¡¤ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì´ë¦„ ìˆ˜ì •
**ë¬¸ì œ:** í¬ë¡¤ëŸ¬ê°€ `telegram_groups` í…Œì´ë¸”ì„ ì°¸ì¡°í–ˆì§€ë§Œ ì‹¤ì œë¡œëŠ” `groups` í…Œì´ë¸” ì‚¬ìš©

**ìˆ˜ì •:**
```python
# crawler_enhanced.py (Line 90)
- groups_response = self.supabase.table("telegram_groups").select("*")
+ groups_response = self.supabase.table("groups").select("*")
```

### 2. í•„ë“œ ì´ë¦„ í†µì¼
**ë¬¸ì œ:** í¬ë¡¤ëŸ¬ê°€ `admin_invited`, `title` í•„ë“œ ì°¸ì¡°

**ìˆ˜ì •:**
```python
- .eq("admin_invited", True)
+ .eq("crawl_enabled", True)

- group['title']
+ group['name']
```

### 3. Group ID ë§¤í•‘ ìˆ˜ì •
**ë¬¸ì œ:** `groups.id` = telegram group ID (bigint PK)

**ìˆ˜ì •:**
```python
# groups.id IS the telegram group ID
self.group_id_map = {
    group["id"]: group["id"]  # telegram_id -> group_uuid
    for group in groups_response.data
}
```

### 4. Vite Manus Debug Collector ìˆ˜ì •
**ë¬¸ì œ:** `/__manus__/debug-collector.js` ìŠ¤í¬ë¦½íŠ¸ê°€ 404

**ìˆ˜ì •:**
- `vite.config.ts`ì— `/__manus__/debug-collector.js` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
- ë¸Œë¼ìš°ì € ì½˜ì†” ë¡œê·¸ë¥¼ ìº¡ì²˜í•˜ì—¬ ì„œë²„ë¡œ ì „ì†¡

---

## ğŸ“‚ ì¶”ê°€ëœ íŒŒì¼

1. **`backend/scripts/aaltohub-crawler.service`**
   - systemd ì„œë¹„ìŠ¤ íŒŒì¼ (AWS EC2)
   - ìë™ ì¬ì‹œì‘, ë¶€íŒ… ì‹œ ìë™ ì‹œì‘

2. **`backend/scripts/setup_crawler_service.sh`**
   - systemd ì„œë¹„ìŠ¤ ì„¤ì • ìë™í™” ìŠ¤í¬ë¦½íŠ¸
   - ë¡œê·¸ íŒŒì¼ ìƒì„±

3. **`CRAWLER_DEPLOYMENT.md`**
   - í¬ë¡¤ëŸ¬ ë°°í¬ ê°€ì´ë“œ
   - ë¬¸ì œ í•´ê²° (Troubleshooting)

4. **`PHASE1_COMPLETION_REPORT.md`** (ì´ íŒŒì¼)
   - Phase 1 ì™„ë£Œ ë¦¬í¬íŠ¸

---

## ğŸš€ ë°°í¬ ì¤€ë¹„ ìƒíƒœ

### âœ… Backend
- [x] ì½”ë“œ ì™„ë£Œ ë° í…ŒìŠ¤íŠ¸
- [x] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (`.env`)
- [x] Systemd ì„œë¹„ìŠ¤ íŒŒì¼
- [x] ë°°í¬ ê°€ì´ë“œ

### âœ… Frontend
- [x] ëª¨ë“  í˜ì´ì§€ êµ¬í˜„
- [x] Supabase Realtime ì—°ë™
- [x] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (`.env.local`)

### âœ… Crawler
- [x] Enhanced crawler êµ¬í˜„
- [x] Systemd ì„œë¹„ìŠ¤ ì„¤ì •
- [x] ì—ëŸ¬ ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§

### âœ… Database
- [x] Supabase í…Œì´ë¸” ìƒì„±
- [x] Realtime êµ¬ë… í™œì„±í™”
- [x] í¬ë¡¤ëŸ¬ ìƒíƒœ ì¶”ì 

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„ (ë°°í¬)

### 1. EC2ì— ì½”ë“œ ì—…ë¡œë“œ
```bash
scp -i telegram-crawler-key.pem -r backend ubuntu@63.180.156.219:/home/ubuntu/aaltohubv2/
```

### 2. systemd ì„œë¹„ìŠ¤ ì„¤ì •
```bash
ssh -i telegram-crawler-key.pem ubuntu@63.180.156.219
cd /home/ubuntu/aaltohubv2/backend
sudo bash scripts/setup_crawler_service.sh
```

### 3. í¬ë¡¤ëŸ¬ ì‹œì‘
```bash
sudo systemctl start aaltohub-crawler
sudo systemctl status aaltohub-crawler
sudo journalctl -u aaltohub-crawler -f
```

### 4. ë™ì‘ í™•ì¸
1. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì ‘ì† (`/admin`)
2. ê·¸ë£¹ ì„ íƒ â†’ ë©”ì‹œì§€ í™•ì¸
3. í¬ë¡¤ëŸ¬ ê´€ë¦¬ í˜ì´ì§€ (`/admin/crawler`)
4. Supabaseì—ì„œ messages í…Œì´ë¸” í™•ì¸

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ê´€ë¦¬ì ë¡œê·¸ì¸ í•„ìˆ˜
í¬ë¡¤ëŸ¬ ì‹¤í–‰ ì „ **ë°˜ë“œì‹œ ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸**í•´ì•¼ í•©ë‹ˆë‹¤:
1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê´€ë¦¬ì ì „í™”ë²ˆí˜¸/usernameìœ¼ë¡œ ë¡œê·¸ì¸
2. Supabase `telethon_sessions` í…Œì´ë¸”ì— ì„¸ì…˜ ì €ì¥ë¨
3. í¬ë¡¤ëŸ¬ê°€ ì´ ì„¸ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë©”ì‹œì§€ ìˆ˜ì§‘

### Public ê·¸ë£¹ ë“±ë¡ í•„ìš”
í¬ë¡¤ëŸ¬ëŠ” **Public ê·¸ë£¹**ë§Œ í¬ë¡¤ë§í•©ë‹ˆë‹¤:
- Private ê·¸ë£¹ì€ ì´ˆëŒ€ë°›ì€ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
- Public ê·¸ë£¹ ë“±ë¡ ì‹œ ìë™ìœ¼ë¡œ ê´€ë¦¬ì ì´ˆëŒ€ ì‹œë„
- ê´€ë¦¬ì ì´ˆëŒ€ ì‹¤íŒ¨ ì‹œ ìˆ˜ë™ ì´ˆëŒ€ í•„ìš” (`/api/groups/{id}/invite-admin`)

### í™˜ê²½ë³€ìˆ˜ í™•ì¸
`backend/.env` íŒŒì¼ì— ë‹¤ìŒ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:
```
SUPABASE_URL=...
SUPABASE_SERVICE_ROLE_KEY=...  # ë˜ëŠ” SUPABASE_KEY
TELEGRAM_API_ID=...
TELEGRAM_API_HASH=...
ADMIN_PHONE_NUMBERS=...  # ë˜ëŠ” ADMIN_USERNAMES
```

---

## ğŸ¯ Phase 1 ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ì‚¬ìš©ì í…”ë ˆê·¸ë¨ ë¡œê·¸ì¸
- [x] ê·¸ë£¹ ì„ íƒ ë° ë“±ë¡
- [x] Public/Private ê·¸ë£¹ ì„¤ì •
- [x] ì €ì¥ëœ ê·¸ë£¹ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
- [x] ê´€ë¦¬ì ìë™ ì´ˆëŒ€ (Public ê·¸ë£¹)
- [x] í…”ë ˆê·¸ë¨ UI ìŠ¤íƒ€ì¼ ë©”ì‹œì§€ ë·°ì–´
- [x] ì§€ë‚œ 30ì¼ ë©”ì‹œì§€ í‘œì‹œ
- [x] Supabase Realtime ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- [x] 24ì‹œê°„ í¬ë¡¤ëŸ¬ (systemd)
- [x] í¬ë¡¤ëŸ¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- [x] ì—ëŸ¬ ë¡œê·¸ ì‹œìŠ¤í…œ
- [x] ë°°í¬ ê°€ì´ë“œ ì‘ì„±

---

## ğŸ“Š ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (React)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Login   â”‚  â”‚ Group Select â”‚  â”‚  Admin Dashboard       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚               â”‚                      â”‚                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                       â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP (Axios)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       â”‚                                          â”‚
â”‚                       â–¼                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚  FastAPI Server â”‚                                â”‚
â”‚              â”‚   (Port 8000)   â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                       â”‚                                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚         â”‚             â”‚             â”‚                           â”‚
â”‚         â–¼             â–¼             â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚   Auth   â”‚  â”‚  Groups  â”‚  â”‚  Admin   â”‚                      â”‚
â”‚  â”‚   API    â”‚  â”‚   API    â”‚  â”‚   API    â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                  â”‚
â”‚                    BACKEND (EC2)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚           â”‚           â”‚
            â–¼           â–¼           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Supabase â”‚ â”‚ Telegram â”‚ â”‚  Crawler â”‚
    â”‚    DB    â”‚ â”‚   API    â”‚ â”‚ (systemd)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                          â”‚
         â”‚ Realtime                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         (INSERT events â†’ Frontend)
```

---

## ğŸ“ ì§€ì›

ë¬¸ì œ ë°œìƒ ì‹œ:
1. **í¬ë¡¤ëŸ¬ ë¡œê·¸**: `sudo journalctl -u aaltohub-crawler -f`
2. **ì—ëŸ¬ ë¡œê·¸**: `tail -f /var/log/aaltohub-crawler-error.log`
3. **ê´€ë¦¬ì í˜ì´ì§€**: `/admin/crawler` (í¬ë¡¤ëŸ¬ ìƒíƒœ, ì—ëŸ¬ ë¡œê·¸)
4. **Supabase**: `crawler_error_logs` í…Œì´ë¸” í™•ì¸

---

**ì™„ë£Œì¼**: 2026-02-06
**ì‘ì„±ì**: Claude Code (Sonnet 4.5)
**í”„ë¡œì íŠ¸**: AaltoHub v2
